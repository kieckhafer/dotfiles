var ComponentDef = require('./ComponentDef');

module.exports = function (component, isSplitComponent) {
    var componentStack = this._j_;
    var origLength = componentStack.length;
    var parentComponentDef = componentStack[origLength - 1];

    var componentId = component.id;

    var componentDef = new ComponentDef(component, componentId, this.X_, componentStack, origLength);
    parentComponentDef._r_(componentDef);
    this.X_.f_[componentId] = componentDef;

    componentStack.push(componentDef);

    return componentDef;
};